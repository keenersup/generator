let normalizeErrors,UserInputError;_a39‍.x([["default",()=>_a39‍.o]]);_a39‍.w("../utils/normalizeErrors",[["normalizeErrors",["normalizeErrors"],function(v){normalizeErrors=v}]]);_a39‍.w("apollo-server",[["UserInputError",["UserInputError"],function(v){UserInputError=v}]]);



_a39‍.d({
  Query: {
    getUser: async (_, { userId }, { models }) => {
      try{
        return await models.User.findById(userId)
      }catch(err){
        const errors = normalizeErrors(err)
        throw new UserInputError('getUser error', { errors })
      }
    },
    allUsers: async (_, args, { models }) => {
      try {
        return await models.User.find({})
      } catch (err) {
        const errors = normalizeErrors(err)
        throw new UserInputError('allUsers error', { errors })
      }
    }
  },
  Mutation: {
    register: async (_, { username }, { models }) => {
      try {
        return await models.User.create({
          username,
        })
      } catch (err) {
        const errors = normalizeErrors(err)
        throw new UserInputError('register mutation', { errors })
      }
    }
  }
});