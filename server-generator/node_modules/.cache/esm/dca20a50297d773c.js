let jwt,SECRET_KEY,AuthenticationError,refreshTokens;_297‍.x([["addUser",()=>addUser]]);_297‍.w("jsonwebtoken",[["default",["jwt"],function(v){jwt=v}]]);_297‍.w("../config",[["SECRET_KEY",["SECRET_KEY"],function(v){SECRET_KEY=v}]]);_297‍.w("apollo-server",[["AuthenticationError",["AuthenticationError"],function(v){AuthenticationError=v}]]);_297‍.w("./generateToken",[["refreshTokens",["refreshTokens"],function(v){refreshTokens=v}]]);




       const addUser = async (req) => {
  const header = req.headers.authorization
  if (header) {
    const accessToken = header.split('Bearer ')[1]
    if (accessToken) {
      try {
        return jwt.verify(accessToken, SECRET_KEY)
      } catch (errors) {
        return null
      }
    } else {
      throw new AuthenticationError('Authentication token must be \'Bearer [token]')
    }
  }
  return null
}